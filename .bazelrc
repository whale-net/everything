# Common Bazel options
build --symlink_prefix=bazel-
build --incompatible_strict_action_env
build --python_version=PY3
build:fast --jobs=auto

# CI optimizations  
# Note: Cache paths are managed by bazel-contrib/setup-bazel action
# and should not be overridden here to avoid conflicts
build:ci --noshow_progress
build:ci --jobs=auto
build:ci --remote_download_minimal
build:ci --verbose_failures
build:ci --show_timestamps
build:ci --announce_rc
# Bandwidth-optimized caching for CI
build:ci --guard_against_concurrent_changes
test:ci --cache_test_results=yes

# Test configurations
test --test_output=errors
test --cache_test_results=yes
test:ci --test_output=errors

# Tool optimization configurations
# Fast tool builds with aggressive caching and minimal rebuilds
build:tools --jobs=auto
build:tools --compilation_mode=opt
build:tools --experimental_reuse_sandbox_directories
build:tools --experimental_inmemory_jdeps_files
build:tools --experimental_inmemory_dotd_files
