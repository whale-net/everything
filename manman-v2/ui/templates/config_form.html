{{define "config_form_content"}}
<div class="card">
    <div class="card-header">
        <div class="card-title">{{if .Edit}}Edit Configuration{{else}}Create New Configuration{{end}}</div>
    </div>
    
    <form hx-post="/games/{{.Game.GameId}}/configs/create" hx-swap="none">
        <div class="form-group">
            <label>Game</label>
            <input type="text" value="{{.Game.Name}}" disabled>
        </div>
        
        <div class="form-group">
            <label for="name">Configuration Name *</label>
            <input type="text" id="name" name="name" value="{{if .Config}}{{.Config.Name}}{{end}}" required placeholder="e.g., Vanilla Server, Modded Setup">
        </div>
        
        <div class="form-group">
            <label for="image">Docker Image *</label>
            <input type="text" id="image" name="image" value="{{if .Config}}{{.Config.Image}}{{end}}" required placeholder="e.g., itzg/minecraft-server:latest">
            <small style="color: #666;">The Docker image to use for this game server</small>
        </div>
        
        <div class="form-group">
            <label for="args_template">Args Template</label>
            <textarea id="args_template" name="args_template" placeholder="Optional command line arguments template">{{if .Config}}{{.Config.ArgsTemplate}}{{end}}</textarea>
            <small style="color: #666;">Use template variables like {{`{{.PARAM_NAME}}`}} to reference parameters</small>
        </div>

        <p style="color: #666; font-style: italic;">Note: After creating the configuration, you can add parameters, environment variables, and file templates on the detail page.</p>
        
        <div style="display: flex; gap: 0.5rem;">
            <button type="submit" class="btn btn-success">{{if .Edit}}Update{{else}}Create{{end}} Configuration</button>
            <a href="/games/{{.Game.GameId}}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{{end}}