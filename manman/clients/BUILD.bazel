load("@rules_python//python:defs.bzl", "py_library", "py_test")

# API client wrappers for ManMan services
py_library(
    name = "clients",
    srcs = [
        "__init__.py",
        "worker_dal_client.py",
    ],
    visibility = ["//visibility:public"],
    deps = [
        "//generated/py/manman:worker_dal_api",
        "//libs/python/retry",
        "//manman/src:manman_core",
    ],
)

py_test(
    name = "worker_dal_client_test",
    size = "small",
    srcs = ["test_worker_dal_client.py"],
    main = "test_worker_dal_client.py",
    deps = [
        ":clients",
        "//generated/py/manman:worker_dal_api",
        "//manman/src:manman_core",
        "@pypi//:pytest",
    ],
)
