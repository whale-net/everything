load("@rules_oci//oci:defs.bzl", "oci_image")
load("@rules_python//python:defs.bzl", "py_binary")

py_binary(
    name = "api_bin",
    srcs = ["main.py"],
    main = "main.py",
    # No deps needed as they are installed in the virtual environment
)

oci_image(
    name = "api_image",
    base = "//base/py:base",
    entrypoint = ["/path/to/api_bin"],
    cmd = [],
    tars = [":api_bin"],
)
